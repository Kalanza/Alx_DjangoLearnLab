{% extends 'blog/base.html' %}
{% load static %}

{% block title %}Blog Posts - Django Blog{% endblock %}

{% block content %}
<div class="posts-container">
    <h1>All Blog Posts</h1>
    
    {% if posts %}
        <div class="posts-list">
            {% for post in posts %}
                <article class="post-item">
                    <h2>{{ post.title }}</h2>
                    <div class="post-meta">
                        <span class="author">By {{ post.author.first_name|default:post.author.username }}</span>
                        <span class="date">{{ post.published_date|date:"F d, Y g:i A" }}</span>
                    </div>
                    <div class="post-content">
                        {{ post.content|linebreaks }}
                    </div>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <div class="no-posts">
            <h2>No posts available</h2>
            <p>There are no blog posts to display at the moment.</p>
            {% if user.is_authenticated %}
                <p>Would you like to write the first post?</p>
            {% else %}
                <p><a href="{% url 'register' %}">Register</a> or <a href="{% url 'login' %}">login</a> to start writing!</p>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
